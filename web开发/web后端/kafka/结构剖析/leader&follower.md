# leader 和 follower
主副本叫做leader，从副本叫做 follower（在有多个副本的情况下，kafka会为通一个分区下的所有分区，设定角色关系：一个leader和N个follower）

处于同步状态的副本叫做 in-sync-replicas(ISR)

**follower通过pull的方式从leader同步数据**

**消费者和生产者都是从leader读写数据，不与follower交互**

副本因子的作用：让kafka读取数据和写入数据时的可靠性。

副本因子是包含本身，同一个副本因子不能放在通一个broker中。

如果某一个分区有三个副本因子，就算其中一个挂掉，那么只会在剩下的两个中，轩子一个leader，**但不会在其他的broker中，另起动一个副本**（因为在另一台启动的话，存在数据传递，只要在机器之间有数据传递，就会长时间占用网络IO，kafka是一个高吞吐量的消息系统，这个情况不允许发生）所以不会在另一个broker中启动。

如果所有的副本都挂了，生产者如果生产数据到指定分区的话，将写入不成功。