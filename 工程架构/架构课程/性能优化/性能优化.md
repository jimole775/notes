# 两个基本原则
1. 不能优化一个没有测试的软件
2. 不能优化一个不了解的软件

# 优化的一般方法
1. 性能测试，获得性能指标
2. 指标分析，发现性能与资源的瓶颈
3. 架构与代码分析，寻找性能与资源瓶颈关键所在
4. 架构与代码以及其他优化，优化关键技术点，平衡资源利用
5. 性能测试，进入性能优化闭环

# 优化的分层思想
1. 机房与骨干网络的性能优化
2. 服务器与硬件的性能优化
3. 操作系统性能优化
4. 虚拟机性能优化
5. 基础组件的性能优化
6. 软件架构的性能优化
7. 软件代码性能优化

## 机房与骨干网络的性能优化
1. 异地多活的多机房架构
2. 专线网络与自主 CDN 建设

## 服务器与硬件的性能优化
1. 提供各种硬件的参数（ 比如：更大的内存，更好的CPU...）
2. CPU超频

## 操作系统优化
1. 案例：
- 问题：
资源利用分析，发现大量 CPU 操作为 sys 类型，消耗大量计算资源。

调查发现，起因是部分 Linux 版本缺省情况打开 transparent huge page 导致。

- 优化：
关闭 transparent huge page.

## 虚拟机优化
1. 随机回收算法优化

## 基础组件优化

## 软件架构优化

## 软件代码优化
