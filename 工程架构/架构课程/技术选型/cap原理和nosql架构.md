# CAP 原理
集群服务器中，如果集群通信失效，就会出现数据不统一的情况。

在这个时候，如果要保证服务都可用，就会导致数据不一致。

如果要保证数据一致，就不能让客户对 **数据落后的都武器** 进行访问。

数据的统一性：存储的数据和用户获取到的数据有可能不一致，但用户获取到的数据一定要保持一致。

- 要解决数据的统一：
1. 可以使用时间戳，有效的服务器的数据 **时间戳最新的可以覆盖时间戳落后的**

2. 使用 master 服务器给集群统一写入数据

# NoSql架构
nosql数据库对分布式系统更加友好一点

# NoSql数据库和关系型数据库有什么区别
1. NoSql是键值对存储

# ACIS 与 BASE

## ACIS:
- 原子性（Atomicity）：事务要么全部完成，要么全部取消。如果事务崩溃，状态回到事务之前（事务回滚）。
- 隔离性（Isolation）：如果2个事务 T1 和 T2 同时运行，事务 T1 和 T2 最终的结果是相同的，不管 T1 和 T2 谁先结束，隔离性主要依靠锁实现。
- 持久性（Durability）：一旦事务提交，不管发生什么（崩溃或者出错），数据要保存在数据库中。
- 一致性（Consistency）：只有合法的数据（依照关系约束和函数约束）才能写入数据库。

## BASE：
- 基本可用（Basically Available）：系统在出现不可预知的故障时，允许损失部分可用性，如响应时间上的损失或功能上的损失。
- 弱状态（Soft state）：允许系统中的数据存在中间状态，并认为该中间状态的存在不会影响系统的整体可用性，即允许系统在不同节点的数据副本之间进行数据同步的过程存在延时。
- 最终一致性（Eventually consistent）：系统中所有的数据副本，在经过一段时间的同步后，最终能够到达一个一致的状态，因此最终一致性的本质是需要系统保证数据能够达到一致，而不需要实时保证系统数据的强一致性。