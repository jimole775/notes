https://www.git-scm.com/docs/githooks

## 脚本文件
脚本文件都存在 `.git/hooks/` 下面，xxx.sample 只是样例文件，不执行，执行时需要去掉后缀。


## 语法：
hooks脚本不仅支持 shell，目前知道的还支持 python 和 node
- 配置 shell:
``` sh
#!/bin/sh
```
- 配置 python:
``` sh
#!/bin/python
```
- 配置 node:
``` sh
#!/bin/node
```

## 配置自动化部署：
1. 在服务器创建一个裸仓库 (`git init --bare`)，作为git服务器的 `远程仓库`，然后在 `.git/hooks` 下创建 `post-receive` 脚本。

2. 在服务器中找一个目录，git clone `远程仓库` 作为 `部署仓库`，主要用于拉取代码和打包（通过的`post-receive`的脚本配置执行逻辑）

3. 最后开发环境和 `远程仓库` 进行对接，对接流程和对接github的仓库一样

## 配置脚本
- 前端项目：
``` sh
#!/bin/sh
cd 'git的部署仓库'
# unset GIT_DIR 取消 git 的默认地址，如果不取消的话将不能在cd的路径上进行git操作
unset GIT_DIR
git add . -A && git stash
git pull origin master
npm run install
npm run build
```

## 难点
需要处理：当多人同时push时的冲突情况
